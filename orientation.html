<!DOCTYPE html>
<html lang="fr" data-bs-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Orientation et conseils pour les étudiants en classes préparatoires et filières scientifiques" />
    <title>ClassePrepas - Orientation & Vision</title>
    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TXJQWKXWVC"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-TXJQWKXWVC');
    </script>

    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <!-- AOS Animation CSS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    
    <link rel="shortcut icon" href="./assets/img/logoep.jpeg" />
    
    <!-- Custom Styles (Unique to Orientation) -->
    <style>
      /* --- VARIABLES --- */
      :root {
        --orient-primary: #ff9f43;   /* Orange Future */
        --orient-secondary: #ee5253; /* Energetic Red */
        --orient-accent: #54a0ff;    /* Bright Blue */
        --orient-gradient: linear-gradient(135deg, #ff9f43 0%, #ee5253 100%);
      }

      /* --- GLOBAL & TYPOGRAPHY --- */
      html { scroll-behavior: smooth; }
      html, body { overflow-x: hidden; font-family: 'Lora', serif; padding-top: 0; width: 100%; }
      h1, h2, h3, h4, h5, h6, .text-uppercase, .btn, .nav-link { font-family: 'Raleway', sans-serif; letter-spacing: 1px; }
      
      /* Custom Scrollbar */
      ::-webkit-scrollbar { width: 10px; }
      ::-webkit-scrollbar-track { background: #0f0f0f; }
      ::-webkit-scrollbar-thumb { background: #444; border-radius: 5px; }
      ::-webkit-scrollbar-thumb:hover { background: var(--orient-primary); }
      [data-bs-theme="light"] ::-webkit-scrollbar-track { background: #f1f1f1; }
      [data-bs-theme="light"] ::-webkit-scrollbar-thumb { background: #adb5bd; }
      [data-bs-theme="light"] ::-webkit-scrollbar-thumb:hover { background: var(--orient-secondary); }

      /* Loader */
      #global-loader { position: fixed; z-index: 99999; top: 0; left: 0; right: 0; bottom: 0; background-color: #121212; display: flex; justify-content: center; align-items: center; flex-direction: column; transition: opacity 0.6s ease-out, visibility 0.6s ease-out; }
      .loader-logo { width: 80px; height: 80px; border-radius: 50%; margin-bottom: 20px; animation: pulse 2s infinite; box-shadow: 0 0 15px rgba(255, 159, 67, 0.2); }
      .loader-spinner { width: 50px; height: 50px; border: 4px solid rgba(255,255,255,0.1); border-top: 4px solid var(--orient-primary); border-radius: 50%; animation: spin 1s linear infinite; margin-bottom: 15px; }
      .loader-text { font-family: 'Raleway', sans-serif; font-weight: 700; color: #f8f9fa; letter-spacing: 2px; text-transform: uppercase; font-size: 0.9rem; }
      @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
      @keyframes pulse { 0% { transform: scale(0.95); } 50% { transform: scale(1); } 100% { transform: scale(0.95); } }
      body.loading { overflow: hidden; }

      .hero-catchphrase {
        font-family: 'Raleway', sans-serif;
        font-size: 1.2rem;
        font-weight: 700;
        background: linear-gradient(90deg, #fff, var(--orient-primary), #fff);
        background-size: 200% auto;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: shine 4s linear infinite;
        margin-top: 1rem;
        margin-bottom: 0.5rem;
      }
      [data-bs-theme="light"] .hero-catchphrase {
        background: linear-gradient(90deg, #212529, var(--orient-secondary), #212529);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      /* --- MENU "CHIC & OUF" (Floating Glass Island) --- */
      #mainNav {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        width: 90%;
        max-width: 1100px;
        padding: 10px 25px;
        border-radius: 50px;
        background: rgba(18, 18, 18, 0.6);
        backdrop-filter: blur(20px) saturate(180%);
        -webkit-backdrop-filter: blur(20px) saturate(180%);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.4);
        transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
        z-index: 1000;
      }
      
      #mainNav.navbar-shrink {
        top: 10px;
        width: 95%;
        max-width: 1200px;
        background: rgba(10, 10, 10, 0.85);
        padding: 8px 20px;
        border-color: rgba(230, 167, 86, 0.3); /* Bordure dorée au scroll */
      }

      [data-bs-theme="light"] #mainNav {
        background: rgba(255, 255, 255, 0.7);
        border: 1px solid rgba(255, 255, 255, 0.6);
        box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
      }
      [data-bs-theme="light"] #mainNav.navbar-shrink {
        background: rgba(255, 255, 255, 0.9);
        border-color: rgba(230, 167, 86, 0.3);
      }

      /* Logo Animation */
      .navbar-brand img {
        transition: transform 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        border: 2px solid rgba(230, 167, 86, 0.5) !important;
      }
      .navbar-brand:hover img {
        transform: rotate(360deg) scale(1.1);
        border-color: #e6a756 !important;
      }
      [data-bs-theme="light"] .navbar-brand { color: #000 !important; }

      /* Menu Items Styling */
      #mainNav .nav-link {
        font-family: 'Raleway', sans-serif;
        font-weight: 700;
        font-size: 0.85rem;
        letter-spacing: 1px;
        color: rgba(255, 255, 255, 0.8) !important;
        padding: 8px 16px !important;
        margin: 0 2px;
        border-radius: 20px;
        transition: all 0.3s ease;
        position: relative;
      }
      [data-bs-theme="light"] #mainNav .nav-link { color: #444 !important; }

      /* Hover & Active State (Glowing Pill Effect) */
      #mainNav .nav-link:hover,
      #mainNav .nav-link.active {
        color: #fff !important;
        background: linear-gradient(45deg, #e6a756, #ff9f43);
        box-shadow: 0 4px 15px rgba(230, 167, 86, 0.4);
        transform: translateY(-2px);
      }
      
      /* Dropdown Menu Chic */
      #mainNav .dropdown-menu {
        border: none;
        border-radius: 20px;
        background: rgba(30, 30, 30, 0.95);
        backdrop-filter: blur(20px);
        padding: 10px;
        margin-top: 20px;
        box-shadow: 0 20px 50px rgba(0,0,0,0.5);
        animation: dropdownFade 0.3s ease forwards;
        transform-origin: top center;
      }
      [data-bs-theme="light"] #mainNav .dropdown-menu {
        background: rgba(255, 255, 255, 0.95);
        box-shadow: 0 20px 50px rgba(0,0,0,0.1);
      }
      @keyframes dropdownFade {
        from { opacity: 0; transform: translateY(10px) scale(0.95); }
        to { opacity: 1; transform: translateY(0) scale(1); }
      }

      #mainNav .dropdown-item {
        border-radius: 10px;
        padding: 8px 15px;
        font-weight: 600;
        color: #ccc;
        transition: all 0.2s;
      }
      [data-bs-theme="light"] #mainNav .dropdown-item { color: #555; }
      
      #mainNav .dropdown-item:hover {
        background: rgba(230, 167, 86, 0.15);
        color: #e6a756;
        padding-left: 20px; /* Slide effect */
      }

      /* Mobile Adjustments */
      @media (max-width: 991.98px) {
        #mainNav {
          width: 95%;
          top: 10px;
          padding: 10px 20px;
          border-radius: 25px;
        }
        #mainNav .navbar-collapse {
          background: transparent;
          margin-top: 15px;
          padding: 10px 0;
          border-top: 1px solid rgba(255,255,255,0.1);
        }
        [data-bs-theme="light"] #mainNav .navbar-collapse {
          border-top: 1px solid rgba(0,0,0,0.1);
        }
        #mainNav .nav-link {
          margin: 5px 0;
          border-radius: 10px;
        }
        #mainNav .nav-link:hover, #mainNav .nav-link.active {
          transform: none;
          background: rgba(230, 167, 86, 0.2);
          color: #e6a756 !important;
          box-shadow: none;
        }
      }

      footer.footer { border-top: 1px solid rgba(255,255,255,0.1); padding-top: 3rem; padding-bottom: 2rem; }
      [data-bs-theme="light"] footer.footer { background: #f1f3f5 !important; color: #212529 !important; border-top: 1px solid #dee2e6; }
      [data-bs-theme="light"] footer.footer a { color: #495057 !important; text-decoration: none; }

      /* --- THEME STYLES --- */
      [data-bs-theme="dark"] body {
        background-color: #0f0f0f;
        color: #f0f0f0;
      }
      [data-bs-theme="light"] body {
        background-color: #f8f9fa;
        background-image: 
            radial-gradient(circle at 10% 20%, rgba(255, 159, 67, 0.1), transparent 25%), 
            radial-gradient(circle at 90% 80%, rgba(157, 80, 187, 0.1), transparent 25%);
        color: #212529;
      }
      
      /* Animated Background Orbs - Unique Colors */
      .animated-bg { 
        position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -2; overflow: hidden; pointer-events: none;
        background-image: linear-gradient(rgba(255, 159, 67, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(255, 159, 67, 0.1) 1px, transparent 1px);
        background-size: 50px 50px;
      }
      .orb { position: absolute; border-radius: 50%; filter: blur(100px); opacity: 0.3; animation: floatOrb 20s infinite ease-in-out; }
      .orb-1 { width: 400px; height: 400px; background: var(--orient-primary); top: -100px; left: -100px; }
      .orb-2 { width: 500px; height: 500px; background: var(--orient-accent); bottom: -150px; right: -150px; animation-delay: -5s; }
      .orb-3 { width: 300px; height: 300px; background: var(--orient-secondary); top: 40%; left: 30%; animation-delay: -10s; opacity: 0.2; }
      @keyframes floatOrb {
        0%, 100% { transform: translate(0, 0) scale(1); }
        33% { transform: translate(50px, -50px) scale(1.1); }
        66% { transform: translate(-30px, 50px) scale(0.9); }
      }
      
      /* Noise Overlay */
      .noise-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIj48ZmlsdGVyIGlkPSJub2lzZSI+PGZlVHVyYnVsZW5jZSB0eXBlPSJmcmFjdGFsTm9pc2UiIGJhc2VGcmVxdWVuY3k9IjAuNjUiIG51bU9jdGF2ZXM9IjMiIHN0aXRjaFRpbGVzPSJzdGl0Y2giLz48L2ZpbHRlcj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWx0ZXI9InVybCgjbm9pc2UpIiBvcGFjaXR5PSIwLjA1Ii8+PC9zdmc+');
        pointer-events: none; z-index: -1; opacity: 0.07;
      }

      /* Ultra Glass Cards */
      .glass-card {
        background: linear-gradient(145deg, rgba(20, 20, 20, 0.9) 0%, rgba(30, 30, 30, 0.8) 100%);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 159, 67, 0.2);
        border-left: 4px solid var(--orient-primary);
        border-radius: 2px;
        box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.5);
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        overflow: hidden;
        position: relative;
        height: 100%;
      }
      [data-bs-theme="light"] .glass-card {
        background: #ffffff;
        border: 1px solid rgba(0,0,0,0.1);
        border-left: 4px solid var(--orient-primary);
        box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        color: #212529;
      }
      .glass-card:hover { 
        transform: translateY(-10px) scale(1.02); 
        box-shadow: 0 0 20px rgba(255, 159, 67, 0.2); 
        background: rgba(255, 159, 67, 0.05);
      }
      [data-bs-theme="light"] .glass-card:hover {
        background: rgba(255, 255, 255, 0.95);
        box-shadow: 0 20px 40px rgba(0,0,0,0.12);
      }

      /* Header & Titles */
      .hero-title { 
        font-size: 3.5rem; 
        font-weight: 900; 
        background: linear-gradient(135deg, #ffffff 0%, var(--orient-primary) 50%, var(--orient-accent) 100%); 
        background-size: 200% auto;
        -webkit-background-clip: text; 
        -webkit-text-fill-color: transparent; 
        filter: drop-shadow(0 0 15px rgba(255, 159, 67, 0.4)); 
        letter-spacing: 2px;
        animation: shine 6s linear infinite;
      }
      @keyframes shine { to { background-position: 200% center; } }
      @media (max-width: 768px) { .hero-title { font-size: 2.5rem; } }
      [data-bs-theme="light"] .hero-title { background: linear-gradient(to right, var(--orient-secondary), var(--orient-accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; filter: drop-shadow(0 5px 15px rgba(0,0,0,0.1)); }
      
      .glass-panel { background: rgba(255,255,255,0.03); backdrop-filter: blur(20px); border: 1px solid rgba(255,255,255,0.05); border-radius: 20px; padding: 2rem; }
      [data-bs-theme="light"] .glass-panel { 
        background: rgba(255,255,255,0.6); 
        backdrop-filter: blur(20px);
        -webkit-backdrop-filter: blur(20px);
        border: 1px solid rgba(255,255,255,0.8); 
        box-shadow: 0 10px 30px rgba(0,0,0,0.05); 
      }
      
      /* Floating Image Animation */
      .floating-img { animation: float-img 6s ease-in-out infinite; }
      @keyframes float-img { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
      
      .retour { position: fixed; bottom: 20px; right: 20px; display: none; z-index: 1000; border-radius: 50%; width: 50px; height: 50px; border: none; background: var(--orient-gradient); color: #fff; box-shadow: 0 4px 15px rgba(0, 210, 255, 0.4); }
      .retour:hover { transform: scale(1.1); color: #fff; }

      /* --- ORIENTATION SPECIFIC STYLES --- */
      .timeline-wrapper { position: relative; padding-left: 3rem; border-left: 4px solid rgba(255, 159, 67, 0.2); }
      .timeline-item { position: relative; margin-bottom: 3.5rem; }
      .timeline-item::before { content: ''; position: absolute; left: -3.65rem; top: 0; width: 1.3rem; height: 1.3rem; background: #121212; border: 2px solid var(--orient-primary); border-radius: 0; transform: rotate(0deg); box-shadow: 0 0 10px rgba(255, 159, 67, 0.3); }
      [data-bs-theme="light"] .timeline-item::before { border-color: #f8f9fa; }
      .timeline-content h4 { font-weight: 700; color: var(--orient-primary); margin-bottom: 0.5rem; }
      [data-bs-theme="light"] .timeline-content h4 { color: var(--orient-secondary); }
      
      .secteur-icon { font-size: 3rem; margin-bottom: 1.5rem; color: #adb5bd; transition: transform 0.3s; display: inline-block; }
      .glass-card:hover .secteur-icon { transform: scale(1.2) rotate(5deg); color: var(--orient-primary); }
      [data-bs-theme="light"] .secteur-icon { color: #6c757d; }
      [data-bs-theme="light"] .glass-card:hover .secteur-icon { color: var(--orient-secondary); }

      /* --- AI WIDGET STYLES --- */
      #ai-widget-container { position: fixed; bottom: 20px; left: 20px; z-index: 1050; font-family: 'Raleway', sans-serif; }
      #ai-toggle { width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); box-shadow: 0 5px 20px rgba(0,0,0,0.3); z-index: 1051; background: var(--orient-gradient); color: white; border: none; }
      #ai-toggle:hover { transform: scale(1.1); }
      #ai-panel { width: 350px; height: 500px; position: absolute; bottom: 80px; left: 0; border-radius: 20px; overflow: hidden; display: flex; flex-direction: column; transform-origin: bottom left; transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); opacity: 0; transform: scale(0.8) translateY(20px); pointer-events: none; }
      #ai-panel.active { opacity: 1; transform: scale(1) translateY(0); pointer-events: all; }
      
      [data-bs-theme="dark"] #ai-panel { background: rgba(30, 30, 30, 0.85); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.1); box-shadow: 0 15px 40px rgba(0,0,0,0.4); }
      [data-bs-theme="light"] #ai-panel { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(15px); border: 1px solid rgba(255,255,255,0.5); box-shadow: 0 15px 40px rgba(0,0,0,0.1); }
      
      .ai-header { padding: 15px; border-bottom: 1px solid rgba(255,255,255,0.1); display: flex; justify-content: space-between; align-items: center; background: rgba(0,0,0,0.1); }
      .ai-content { flex: 1; overflow-y: auto; padding: 15px; display: flex; flex-direction: column; gap: 10px; scrollbar-width: thin; }
      .ai-input-area { padding: 15px; border-top: 1px solid rgba(255,255,255,0.1); background: rgba(0,0,0,0.05); }
      
      .ai-msg { max-width: 85%; padding: 10px 15px; border-radius: 15px; font-size: 0.9rem; line-height: 1.4; word-wrap: break-word; animation: fadeIn 0.3s ease; }
      .ai-msg.user { align-self: flex-end; background: var(--orient-gradient); color: #fff; border-bottom-right-radius: 2px; }
      .ai-msg.bot { align-self: flex-start; background: rgba(255,255,255,0.1); color: inherit; border-bottom-left-radius: 2px; border: 1px solid rgba(255,255,255,0.05); }
      [data-bs-theme="light"] .ai-msg.bot { background: rgba(0,0,0,0.05); border-color: rgba(0,0,0,0.05); }
      
      .typing-indicator span { display: inline-block; width: 6px; height: 6px; background-color: currentColor; border-radius: 50%; animation: typing 1.4s infinite ease-in-out both; margin: 0 1px; opacity: 0.6; }
      .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
      .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
      @keyframes typing { 0%, 80%, 100% { transform: scale(0); } 40% { transform: scale(1); } }
      @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
    </style>
  </head>
  <body class="loading">
    <!-- Loader -->
    <div id="global-loader">
      <img src="./assets/img/logoep.jpeg" alt="Logo" class="loader-logo">
      <div class="loader-spinner"></div>
      <div class="loader-text">Chargement...</div>
    </div>

    <!-- Animated Background -->
    <div class="animated-bg">
      <div class="orb orb-1"></div>
      <div class="orb orb-2"></div>
      <div class="orb orb-3"></div>
    </div>
    
    <!-- Noise Overlay -->
    <div class="noise-overlay"></div>

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand text-uppercase fw-bold" href="index.html">
          <img src="./assets/img/logoep.jpeg" alt="Logo" width="35" height="35" class="d-inline-block align-text-top me-2 rounded-circle border border-2 border-primary p-1">
          Etudes_Prepas
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            <li class="nav-item px-lg-2"><a class="nav-link text-uppercase" href="index.html">Accueil</a></li>
            <li class="nav-item px-lg-2 dropdown">
              <a class="nav-link dropdown-toggle text-uppercase" href="#" role="button" data-bs-toggle="dropdown">ENSA</a>
              <ul class="dropdown-menu dropdown-menu-end">
                <li><a class="dropdown-item" href="ensabm.html">ENSA Beni Mellal</a></li>
                <li><a class="dropdown-item" href="ensakech.html">ENSA Marrakech</a></li>
                <li><a class="dropdown-item" href="ensak.html">ENSA Kenitra</a></li>
                <li><a class="dropdown-item" href="ensah.html">ENSA Al Hoceima</a></li>
                <li><a class="dropdown-item" href="ensaa.html">ENSA Agadir</a></li>
              </ul>
            </li>
            <li class="nav-item px-lg-2 dropdown">
              <a class="nav-link dropdown-toggle text-uppercase" href="#" role="button" data-bs-toggle="dropdown">FST/FS</a>
              <ul class="dropdown-menu dropdown-menu-end">
                <li><a class="dropdown-item" href="gegm.html">GE-GM</a></li>
                <li><a class="dropdown-item" href="mipc.html">MIPC</a></li>
              </ul>
            </li>
            <li class="nav-item px-lg-2"><a class="nav-link text-uppercase" href="medecine.html">Médecine</a></li>
            <li class="nav-item px-lg-2"><a class="nav-link text-uppercase active" href="orientation.html">Orientation</a></li>
            <li class="nav-item px-lg-2">
              <a class="nav-link" id="theme-toggle" title="Changer de thème" style="cursor: pointer;">
                <i class="fas fa-moon"></i>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <header class="container text-center" style="margin-top: 120px; margin-bottom: 80px;">
      <div data-aos="zoom-in" data-aos-duration="1000">
        <h1 class="hero-title text-uppercase mb-3" id="haut-de-page">Tracez Votre Avenir</h1>
        <div class="divider-custom divider-light my-3">
            <div style="height: 4px; background: linear-gradient(90deg, transparent, var(--orient-primary), transparent); width: 200px; margin: 0 auto; border-radius: 2px;"></div>
        </div>
        <p class="hero-catchphrase">"Booste tes résultats : la plateforme ultime pour dompter ton semestre."</p>
        <span class="badge rounded-pill bg-info text-dark fs-6 mt-3 px-4 py-2 shadow-lg fw-bold tracking-wider">VISION & CARRIÈRE</span>
      </div>
    </header>

    <main class="container">
      <!-- Intro -->
      <div class="row justify-content-center mb-5">
        <div class="col-lg-10 text-center">
          <div class="glass-panel p-2 mb-5 floating-img" data-aos="fade-up" style="box-shadow: 0 10px 30px rgba(0,0,0,0.3);">
            <img class="img-fluid rounded-4" src="./assets/img/bg4.jpeg" alt="Orientation" style="width: 100%;" />
          </div>
          
          <div class="glass-panel p-5" data-aos="fade-up" data-aos-delay="100">
            <h3 class="fw-bold mb-4" style="color: var(--orient-primary);">Une Vision Stratégique</h3>
            <p class="lead mb-0" style="font-size: 1.2rem; line-height: 1.8;">
              L'orientation n'est pas une destination, mais un voyage. Dans un monde en perpétuelle évolution, 
              choisir sa voie demande de la clairvoyance et de l'audace. Que vous visiez l'ingénierie, la médecine ou la recherche, 
              votre parcours commence par une vision claire de vos ambitions.
            </p>
          </div>
        </div>
      </div>

      <!-- Why Choose Science -->
      <div class="row g-4 mb-5 text-center">
        <div class="col-md-4" data-aos="fade-up" data-aos-delay="100">
          <div class="glass-card p-4 h-100 js-tilt">
            <i class="fa-solid fa-lightbulb fa-3x mb-3" style="color: var(--orient-primary);"></i>
            <h3 class="h4 mb-3 fw-bold">Innovation</h3>
            <p class="text-muted">Les filières scientifiques sont au cœur de l'innovation technologique. Devenez acteur du changement.</p>
          </div>
        </div>
        <div class="col-md-4" data-aos="fade-up" data-aos-delay="200">
          <div class="glass-card p-4 h-100 js-tilt">
            <i class="fa-solid fa-graduation-cap fa-3x mb-3" style="color: var(--orient-accent);"></i>
            <h3 class="h4 mb-3 fw-bold">Excellence</h3>
            <p class="text-muted">Les classes préparatoires et les cycles ingénieurs offrent une formation d'excellence reconnue mondialement.</p>
          </div>
        </div>
        <div class="col-md-4" data-aos="fade-up" data-aos-delay="300">
          <div class="glass-card p-4 h-100 js-tilt">
            <i class="fa-solid fa-briefcase fa-3x mb-3" style="color: var(--orient-secondary);"></i>
            <h3 class="h4 mb-3 fw-bold">Employabilité</h3>
            <p class="text-muted">Un diplôme d'ingénieur ou un master spécialisé ouvre les portes d'une carrière internationale prometteuse.</p>
          </div>
        </div>
      </div>

      <!-- Timeline -->
      <div class="row justify-content-center mb-5" id="parcours">
        <div class="col-lg-8">
          <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3">Votre Parcours</h2>
            <div style="height: 3px; background: var(--orient-primary); width: 80px; margin: 0 auto 20px;"></div>
          </div>
          
          <div class="timeline-wrapper">
            <div class="timeline-item" data-aos="fade-left">
              <div class="timeline-content">
                <h4>Baccalauréat Scientifique</h4>
                <p class="text-muted">Le point de départ. Une solide base en mathématiques et physique est essentielle pour réussir la suite.</p>
              </div>
            </div>
            <div class="timeline-item" data-aos="fade-left" data-aos-delay="100">
              <div class="timeline-content">
                <h4>Classes Préparatoires (CPGE / ENSA / FST)</h4>
                <p class="text-muted">2 années intensives pour acquérir les fondamentaux de l'ingénierie. Rigueur et organisation sont vos meilleurs atouts.</p>
              </div>
            </div>
            <div class="timeline-item" data-aos="fade-left" data-aos-delay="200">
              <div class="timeline-content">
                <h4>Cycle Ingénieur / Master</h4>
                <p class="text-muted">3 années de spécialisation (Génie Info, Industriel, Civil, etc.) pour devenir un expert dans votre domaine.</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Secteurs Porteurs -->
      <div class="mb-5 py-5">
        <div class="text-center mb-5">
            <h2 class="display-5 fw-bold mb-3">Secteurs d'Avenir</h2>
            <div style="height: 3px; background: var(--orient-accent); width: 80px; margin: 0 auto 20px;"></div>
        </div>
        <div class="row g-4">
            <div class="col-md-3 col-sm-6" data-aos="zoom-in" data-aos-delay="100">
                <div class="glass-card p-4 h-100 js-tilt text-center">
                    <i class="fa-solid fa-robot secteur-icon"></i>
                    <h5 class="card-title fw-bold">Intelligence Artificielle</h5>
                    <p class="small text-muted">Data Science, Machine Learning</p>
                </div>
            </div>
            <div class="col-md-3 col-sm-6" data-aos="zoom-in" data-aos-delay="200">
                <div class="glass-card p-4 h-100 js-tilt text-center">
                    <i class="fa-solid fa-solar-panel secteur-icon"></i>
                    <h5 class="card-title fw-bold">Énergies Renouvelables</h5>
                    <p class="small text-muted">Développement durable, Efficacité</p>
                </div>
            </div>
            <div class="col-md-3 col-sm-6" data-aos="zoom-in" data-aos-delay="300">
                <div class="glass-card p-4 h-100 js-tilt text-center">
                    <i class="fa-solid fa-city secteur-icon"></i>
                    <h5 class="card-title fw-bold">Génie Civil & BTP</h5>
                    <p class="small text-muted">Grands ouvrages, Urbanisme</p>
                </div>
            </div>
            <div class="col-md-3 col-sm-6" data-aos="zoom-in" data-aos-delay="400">
                <div class="glass-card p-4 h-100 js-tilt text-center">
                    <i class="fa-solid fa-plane-departure secteur-icon"></i>
                    <h5 class="card-title fw-bold">Aéronautique & Auto</h5>
                    <p class="small text-muted">Conception, Production, R&D</p>
                </div>
            </div>
        </div>
      </div>

      <!-- Conseils -->
      <div class="row justify-content-center mb-5">
        <div class="col-lg-10">
            <div class="glass-panel p-5 shadow-lg js-tilt" data-aos="flip-up">
                <h2 class="text-center mb-5 fw-bold"><i class="fa-solid fa-star me-2" style="color: var(--orient-primary);"></i>Clés de la Réussite</h2>
                <div class="row g-4">
                    <div class="col-md-4">
                        <div class="text-center">
                            <div class="mb-3"><i class="fa-solid fa-calendar-check fa-2x" style="color: var(--orient-secondary);"></i></div>
                            <h4>Organisation</h4>
                            <p class="text-muted small">La gestion du temps est primordiale. Établissez un planning de travail régulier et tenez-vous-y.</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="text-center">
                            <div class="mb-3"><i class="fa-solid fa-brain fa-2x" style="color: var(--orient-accent);"></i></div>
                            <h4>Curiosité</h4>
                            <p class="text-muted small">Ne vous limitez pas aux cours. Cherchez à comprendre les applications concrètes et l'actualité scientifique.</p>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="text-center">
                            <div class="mb-3"><i class="fa-solid fa-heart-pulse fa-2x" style="color: var(--orient-primary);"></i></div>
                            <h4>Équilibre</h4>
                            <p class="text-muted small">Le sommeil et l'activité physique sont essentiels pour maintenir vos performances intellectuelles sur la durée.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
      </div>

      <button class="retour" id="btn-back-to-top" title="Retour en haut"><i class="fa-solid fa-arrow-turn-up"></i></button>
    </main>

    <footer class="footer text-center mt-5">
      <div class="container">
        <p class="m-0 small text-muted">&copy; 2023 EtudePrepas.com - Tous droits réservés. <strong class="text-info">Efra.Jr</strong></p>
      </div>
    </footer>

    <!-- AI Widget (Assistant Prépa) -->
    <div id="ai-widget-container">
        <div id="ai-panel">
            <div class="ai-header">
                <div class="d-flex align-items-center gap-2">
                    <i class="fas fa-robot"></i>
                    <span class="fw-bold small text-uppercase">Assistant Orientation</span>
                </div>
                <button class="btn btn-sm btn-link text-muted p-0" id="close-ai"><i class="fas fa-times"></i></button>
            </div>
            <div class="ai-content" id="ai-chat-box">
                <div class="ai-msg bot">Bonjour ! Je suis ton assistant orientation. Pose-moi une question sur les filières, les débouchés ou la motivation.</div>
            </div>
            <div class="ai-input-area">
                <div class="input-group">
                    <input type="text" id="ai-input" class="form-control form-control-sm border-0 bg-transparent text-reset" placeholder="Posez votre question..." style="box-shadow: none;">
                    <button class="btn btn-sm btn-info rounded-circle text-white" id="ai-send" style="width: 32px; height: 32px; padding: 0; display: flex; align-items: center; justify-content: center;"><i class="fas fa-paper-plane fa-xs"></i></button>
                </div>
            </div>
        </div>
        <button id="ai-toggle" class="btn shadow-lg" title="Ouvrir l'assistant IA">
            <i class="fas fa-brain fa-lg"></i>
        </button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- AOS Animation JS -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <!-- Marked JS for Markdown Parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script>
      window.addEventListener('load', function() {
        const loader = document.getElementById('global-loader');
        if(loader) {
          if (sessionStorage.getItem('siteLoaded') && getComputedStyle(loader).display === 'none') {
             loader.remove();
             return;
          }
          setTimeout(function() {
            loader.style.opacity = '0';
            loader.style.visibility = 'hidden';
            document.body.classList.remove('loading');
            sessionStorage.setItem('siteLoaded', 'true');
            setTimeout(function() { loader.remove(); }, 600);
          }, 1000);
        }
      });
      AOS.init({ once: true, offset: 50, duration: 600 });
      
      // Vanilla Tilt Effect
      const tiltCards = document.querySelectorAll('.js-tilt');
      tiltCards.forEach(card => {
        card.addEventListener('mousemove', (e) => {
          const rect = card.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;
          
          const centerX = rect.width / 2;
          const centerY = rect.height / 2;
          
          const rotateX = ((y - centerY) / centerY) * -5;
          const rotateY = ((x - centerX) / centerX) * 5;
          
          card.style.transform = `perspective(1000px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) scale(1.02)`;
        });
        
        card.addEventListener('mouseleave', () => {
          card.style.transform = 'perspective(1000px) rotateX(0) rotateY(0) scale(1)';
        });
      });

      // Theme Toggle Logic
      const themeToggleBtn = document.getElementById('theme-toggle');
      const htmlElement = document.documentElement;
      const navbar = document.getElementById('mainNav');
      const themeIcon = themeToggleBtn.querySelector('i');

      function setTheme(theme) {
        htmlElement.setAttribute('data-bs-theme', theme);
        localStorage.setItem('theme', theme);
        
        if (theme === 'light') {
          navbar.classList.remove('navbar-dark');
          navbar.classList.add('navbar-light');
          themeIcon.className = 'fas fa-sun';
        } else {
          navbar.classList.remove('navbar-light');
          navbar.classList.add('navbar-dark');
          themeIcon.className = 'fas fa-moon';
        }
      }

      const savedTheme = localStorage.getItem('theme') || 'dark';
      setTheme(savedTheme);

      themeToggleBtn.addEventListener('click', () => {
        const newTheme = htmlElement.getAttribute('data-bs-theme') === 'dark' ? 'light' : 'dark';
        setTheme(newTheme);
      });

      // AI Widget Logic
      const aiToggle = document.getElementById('ai-toggle');
      const aiPanel = document.getElementById('ai-panel');
      const closeAi = document.getElementById('close-ai');
      const aiInput = document.getElementById('ai-input');
      const aiSend = document.getElementById('ai-send');
      const aiChatBox = document.getElementById('ai-chat-box');

      let chatHistory = [];

      if (aiToggle && aiPanel) {
        aiToggle.addEventListener('click', () => aiPanel.classList.toggle('active'));
        closeAi.addEventListener('click', () => aiPanel.classList.remove('active'));

        const addMessage = (text, sender) => {
            const div = document.createElement('div');
            div.className = `ai-msg ${sender}`;
            div.innerHTML = text;
            aiChatBox.appendChild(div);
            aiChatBox.scrollTop = aiChatBox.scrollHeight;
        };

        const showTyping = () => {
            const div = document.createElement('div');
            div.className = 'ai-msg bot typing-indicator';
            div.id = 'typing';
            div.innerHTML = '<span></span><span></span><span></span>';
            aiChatBox.appendChild(div);
            aiChatBox.scrollTop = aiChatBox.scrollHeight;
        };

        const removeTyping = () => {
            const typing = document.getElementById('typing');
            if (typing) typing.remove();
        };

        const handleAiResponse = async (userText) => {
            showTyping();
            
            try {
                const today = new Date().toLocaleDateString('fr-FR', { year: 'numeric', month: 'long', day: 'numeric' });
                const context = `Tu es un conseiller d'orientation virtuel pour étudiants en sciences au Maroc. Nous sommes le ${today}. Tu aides sur le choix des filières (CPGE, ENSA, FST, Médecine), les débouchés, la motivation et l'organisation. Réponds en français, sois encourageant, concis et utile.`;
                
                chatHistory.push({ role: "user", content: userText });
                if (chatHistory.length > 10) chatHistory = chatHistory.slice(-10);
                const conversation = chatHistory.map(msg => `${msg.role === 'user' ? 'Etudiant' : 'Conseiller'}: ${msg.content}`).join('\n');
                const fullPrompt = `${context}\n\nHistorique de la conversation:\n${conversation}\n\nConseiller:`;

                const url = `https://text.pollinations.ai/${encodeURIComponent(fullPrompt)}?model=mistral&seed=${Math.floor(Math.random() * 1000)}`;
                
                const response = await fetch(url);
                if (!response.ok) throw new Error('Erreur API IA');
                
                let textData = await response.text();
                
                removeTyping();
                if (textData.includes("deprecated") || textData.length < 2) {
                    throw new Error("Réponse IA invalide");
                } else {
                    chatHistory.push({ role: "assistant", content: textData });
                    const formattedText = marked.parse(textData);
                    addMessage(formattedText, 'bot');
                }
            } catch (error) {
                removeTyping();
                addMessage("Désolé, je suis momentanément indisponible.", 'bot');
            }
        };

        const sendMessage = () => {
            const text = aiInput.value.trim();
            if (!text) return;
            addMessage(text, 'user');
            aiInput.value = '';
            handleAiResponse(text);
        };

        aiSend.addEventListener('click', sendMessage);
        aiInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });
      }
    </script>
    <!-- Core theme JS-->
    <script src="js/scripts.js"></script>
  </body>
</html>
